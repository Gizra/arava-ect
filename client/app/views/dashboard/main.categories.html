<span><i class="icon-options"></i></span>
<ul ui-tree data-drag-enabled="false" data-empty-place-holder-enabled="false" class="tree">
  <ol ui-tree-nodes="">
    <li ng-repeat="item in categories.tree" ui-tree-node ng-show="hasMeters(item)">
      <div ui-tree-handle class="tree-level-top">
        <a ui-sref="dashboard.withAccount.categories({categoryId: item.id})" ng-class="{'active-category':  ('categoryId' | includedByParams:item.id) }">
          <i class="glyphicon " ></i>
          <span>{{item.label}}</span> ({{item.meters}})
        </a>
      </div>
      <ol ui-tree-nodes="" ng-model="item.children" >
        <li ng-repeat="subItem in item.children" ui-tree-node ng-show="hasMeters(subItem)">
          <div ui-tree-handle class="tree-level-middle">
            <a ui-sref="dashboard.withAccount.categories({categoryId: subItem.id})" ng-class="{'active-category':  ('categoryId' | includedByParams:subItem.id) }">
              <i class="glyphicon glyphicon-chevron-left"></i>
              <span>{{subItem.label}}</span> ({{subItem.meters}})
            </a>
          </div>
          <ol ui-tree-nodes="" ng-model="subItem.children">
            <li ng-repeat="subItem2 in subItem.children" ui-tree-node ng-show="hasMeters(subItem2)">
              <div ui-tree-handle class="tree-level-bottom">
                <a ui-sref="dashboard.withAccount.categories({categoryId: subItem2.id})" ng-class="{'active-category':  ('categoryId' | includedByParams:subItem2.id) }">
                  <i class="glyphicon glyphicon-plus"></i>
                  <span>{{subItem2.label}}</span> ({{subItem2.meters}})
                </a>
              </div>
            </li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</ul>
